<!DOCTYPE html>
<head>
    <script src="https://code.jquery.com/jquery-git.js"></script>
    <meta charset="utf-8" />
    <title>Dogs to Go</title>
    <link rel="stylesheet" type="text/css" media="screen" href="reservation.css"/>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body onresize="editLayout()">
    <nav class="navbar navbar-expand navbar-light bg-light">
        <!--<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>-->
        <a class="navbar-brand" href="#">High Thrills Entertainment</a>
        <div class="mx-auto" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto" style="text-align: center;">
            <li class="nav-item active pr-5">
              <a class="nav-link" href="#"> Restaurants <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item active pl-5">
              <a class="nav-link" href="#">Rides</a>
            </li>
            <!--<li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="#">Disabled</a>
            </li>-->

          </ul>
          <!--<form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
          </form>-->
        </div>
        <div>
          <button class="nav-item btn btn-outline-success my-2 my-sm-0">Log In</button>
        <div>
    </nav>
    <div class="head-hero">
        <img src="" id="res-hero" alt="Hero" width="100%" height="300px">
        <div class="title">Dogs to Go</div>
    </div>
    <div class="container px-4">
        <div id = "lead"></div>
        <aside id="reservation-card" class="card mt-3 float-right" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">Make a Reservation</h5>
              <hr>
              <form>
                <label for="quantity">Attending:</label>
                <select name="quantity">
                    <option value="one">1</option>
                    <option value="two">2</option>
                    <option value="three">3</option>
                    <option value="four">4</option>
                    <option value="five">5</option>
                    <option value="six">6</option>
                    <option value="seven">7</option>
                    <option value="eight">8</option>
                    <option value="nine">9</option>
                    <option value="ten">10</option>
                </select>
                <div>
                    <label for="date">Date:</label>
                    <input id="date" name="date" type="date" >
                </div>
                <div>
                    <label for="quantity">Time:</label>
                    <select name="time">
                        <option value="eight-am">8:00 A.M.</option>
                        <option value="eight-thirty-am">8:30 A.M.</option>
                        <option value="nine-am">9:00 A.M.</option>
                        <option value="nine-thirty-am">9:30 A.M.</option>
                        <option value="ten-am">10:00 A.M.</option>
                        <option value="ten-thirty-am">10:30 A.M.</option>
                        <option value="eleven-am">11:00 A.M.</option>
                        <option value="eleven-thirty-am">11:30 A.M.</option>
                        <option value="twelve-pm">12:00 P.M.</option>
                        <option value="twelve-thirty-pm">12:30 P.M.</option>
                        <option value="twelve-pm">1:00 P.M.</option>
                        <option value="twelve-pm">1:30 P.M.</option>
                        <option value="twelve-pm">2:00 P.M.</option>
                        <option value="twelve-pm">2:30 P.M.</option>
                        <option value="twelve-pm">3:00 P.M.</option>
                        <option value="twelve-pm">3:30 P.M.</option>
                        <option value="twelve-pm">12:00 P.M.</option>
                    </select>
                </div>
                </form>
                <script>
                    var today = new Date();
                    var minDate = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();
                    document.getElementById('date').min = minDate;
                    var maxMonth = today.getMonth()+2;
                    var maxYear;
                    if(maxMonth > 12) {
                        maxMonth= "01";
                        maxYear = today.getFullYear()+1;
                    }
                    var maxDate = maxYear +'-'+maxMonth+'-'+today.getDate();
                    document.getElementById('date').max = "2021-01-23";
                </script>
                <div class="row">
                    <div class="col reserve">
                        <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                            Reserve
                        </button>
                    </div>
                </div>
                
            </div>
        </aside>
        <hr>
        <main id="main" class="row">
            <div class="col m-2">
                <div class="row">
                    <div class = "col">
                        <h4 id="res-header">Dogs to Go</h4>
                    </div>
                    <div class = "col">
                        <select name="rate" class="right">
                            <option value="rate">Give a Rating</option>
                            <option value="five-stars">5 - Amazing</option>
                            <option value="four-stars">4 - Good</option>
                            <option value="three-stars">3 - Okay</option>
                            <option value="two-stars">2 - Bad</option>
                            <option value="one-stars">1 - Abhorrent</option>
                        </select>
                    </div>
                </div>
                <hr id="title-border">
                <p id="description">Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!Eat some dogs!</p>
                <p id="waitTime" style="font-weight: bold;">Average Wait Time: 4 minutes</p>
            </div>
            <!--

            
            <div class ="col m-2">
                <div class ="row">
                    <div class ="col">
                        <h5 class="res-header">Make a Reservation</h5>
                    </div>
                </div>
                <form>
                    <div id="reservations">
                        <div class="row ml-1 mr-1 group-reserve">
                            <div class="col reserve">8:00 A.M.</div>
                            <div class="col reserve">
                                <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                                    Reserve
                                </button>
                            </div>
                        </div>
                        <div class="row ml-1 mr-1 group-reserve">
                            <div class="col reserve">8:00 A.M.</div>
                            <div class="col reserve">
                                <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                                    Reserve
                                </button>
                            </div>
                        </div>
                        <div class="row ml-1 mr-1 group-reserve">
                            <div class="col reserve">8:00 A.M.</div>
                            <div class="col reserve">
                                <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                                    Reserve
                                </button>
                            </div>
                        </div>
                        <div class="row ml-1 mr-1 group-reserve">
                            <div class="col reserve">8:00 A.M.</div>
                            <div class="col reserve">
                                <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                                    Reserve
                                </button>
                            </div>
                        </div>
                        <div class="row ml-1 mr-1 group-reserve">
                            <div class="col reserve">8:00 A.M.</div>
                            <div class="col reserve">
                                <button type="button" class="btn btn-primary right res-button" data-toggle="modal" data-target="#exampleModalCenter">
                                    Reserve
                                </button>
                            </div>
                        </div>
                    </div>
                    -->
                    <!--<button type="button" class="btn btn-primary right" data-toggle="modal" data-target="#exampleModalCenter">
                        Make a Reservation Now!
                    </button>-->
                <!-- 
                </form>-->
                
  
                <!-- Modal 
                <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Reserve</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        </div>
                        <div class="modal-body">
                        ...
                        </div>
                        <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                    </div>
                    </div>
                </div>
            </div>-->
        </main>
        <script>
            var maxWidth = 912;
            if($(document).width() < maxWidth) {
                $('#reservation-card').parent('#main');
                $('#reservation-card').insertAfter('#title-border');
                $('#reservation-card').removeClass('float-right');
                $('#reservation-card').css("width", "100%");
                console.log("HI");
            }
            else {
                $('#reservation-card').parent('.container');
                $('#reservation-card').insertAfter('#lead');
                $('#reservation-card').addClass('float-right');
                $('#reservation-card').css("width", "auto");
            }
            function editLayout() {
                if($(document).width() < maxWidth) {
                    $('#reservation-card').insertAfter('#title-border');
                    $('#reservation-card').remove('.container');
                    $('#reservation-card').parent('#main');
                    $('#reservation-card').removeClass('float-right');
                    $('#reservation-card').css("width", "100%");
                }
                else {
                    $('#reservation-card').insertAfter('#lead');
                    $('#reservation-card').parent('.container');
                    $('#reservation-card').addClass('float-right');
                    $('#reservation-card').css("width", "auto");
                }
            }
        </script>
    </div>
    <script src="/socket.io/socket.io.js"> </script>
    <script>
        var socket = io();
        var currentAd = 0;
        var adData = [];

        socket.emit("getAdData", currentAd);
        socket.on("getAdData", function(msg){

          adData = msg;
          console.log(adData);
            console.log(adData[1].name)
        });
        
        var swapper = window.setInterval(function(){

          var msg;
          currentAd += 1;
          if (currentAd < adData.length){
            msg = adData[currentAd];
          }
          else{
            currentAd = 0;
            msg = adData[0];
          }

          document.getElementById("res-header").innerHTML = msg.name;
          document.getElementsByClassName("title")[0].innerHTML = msg.name;
          document.getElementById("res-hero").src = msg.image;
          document.getElementById("waitTime").innerHTML = "Average Wait Time: " + msg.avgWait;
          document.getElementById("description").innerHTML = msg.description;
        }, 8000);
    </script>
</body>
